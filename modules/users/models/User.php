<?php

namespace app\modules\users\models;

use Yii;

//*****************************************************************************
class User extends \dmitrybtn\cp\users\models\User
//*****************************************************************************
{
	//*************************************************************************
	// AR - методы
	//*************************************************************************

	//-------------------------------------------------------------------------
	public function attributeLabels()
	//-------------------------------------------------------------------------
	{
		return array_merge(parent::attributeLabels(), [

		]);
	}

	//-------------------------------------------------------------------------
	public function rules()
	//-------------------------------------------------------------------------
	{
		return array_merge(parent::rules(), [

		]);
	}

	//*************************************************************************
	// Связанные записи
	//*************************************************************************


	//*************************************************************************
	// Пользовательские методы
	//*************************************************************************

	//-------------------------------------------------------------------------
	public function getTitle()
	//-------------------------------------------------------------------------
	{
		return $this->name;
	}

	//*************************************************************************
	// Поиск
	//*************************************************************************

	//-------------------------------------------------------------------------
	public function search()
	//-------------------------------------------------------------------------
	{
		$objQuery = self::find();

		$objQuery->andFilterWhere(['like', 'name', $this->search_string]);

		return $objQuery;
	}

	public static function find() {return new UserQuery(get_called_class());}
	public static function tableName() {return 'users';}
}


//*****************************************************************************
class UserQuery extends \yii\db\ActiveQuery
//*****************************************************************************
{
	//-------------------------------------------------------------------------
	public function sorted()
	//-------------------------------------------------------------------------
	{
		return $this->addOrderBy('name');
	}
}
